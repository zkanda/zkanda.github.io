<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Srcs on intimacy of my thoughts</title><link>https://zkanda.io/src/</link><description>Recent content in Srcs on intimacy of my thoughts</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 07 Apr 2020 11:43:40 +0700</lastBuildDate><atom:link href="https://zkanda.io/src/index.xml" rel="self" type="application/rss+xml"/><item><title>python scrypt cannot find libcrypto on macos</title><link>https://zkanda.io/src/20-scrypt-macos-cannot-find-libcrypto/</link><pubDate>Tue, 07 Apr 2020 11:43:40 +0700</pubDate><guid>https://zkanda.io/src/20-scrypt-macos-cannot-find-libcrypto/</guid><description>Today, I tried starting our local django development environment but it failed because of this error.
OSError: dlopen(lib/python2.7/site-packages/_scrypt.so, 6): Library not loaded: /usr/local/opt/openssl/lib/libcrypto.1.0.0.dylib What does this error mean?
The precompiled scrypt is targeting a now non exising libcrypto.1.0.0.dylib, when I look at the location, it&amp;rsquo;s been replaced by an updated api version number libcrypto.1.1.dylib.
A quick solution is to soft link it to the exact same path as previous and hope that the api didn&amp;rsquo;t change much.</description></item><item><title>Using Github Actions for Deploying Hugo</title><link>https://zkanda.io/src/19-using-github-actions-for-deploying-hugo/</link><pubDate>Mon, 06 Apr 2020 16:09:40 +0700</pubDate><guid>https://zkanda.io/src/19-using-github-actions-for-deploying-hugo/</guid><description>Before, whenever I tried updating this blog, I have to follow some steps:
Write content Commit Run the publish to master scripts Well, guess what, I can now remove that last script, because of Github actions.
But it was not without pain moving to this new platform. First, I had to read a lot of documents that don&amp;rsquo;t seem to relate to what I wanted to do. Well, shame on me for reading those, but they were fun, and I learned a lot.</description></item><item><title>golang: dynamic type in a json field</title><link>https://zkanda.io/src/golang-dynamic-type-in-json-field/</link><pubDate>Wed, 07 Nov 2018 04:19:05 +0000</pubDate><guid>https://zkanda.io/src/golang-dynamic-type-in-json-field/</guid><description>We had an experience where the type of a field change base on certain conditions. We think this is bad, but we have to support it. Here&amp;rsquo;s how.
You&amp;rsquo;ll have to specify the field type as an interface.
type P struct { T interface{} `json:&amp;#34;t&amp;#34;` } After that, you&amp;rsquo;ll need to use switch to determine the type. In our case, we needed it as int.
var i int var p P s := `{&amp;#34;t&amp;#34;: &amp;#34;3460&amp;#34;}` // should also work with // s := `{&amp;#34;t&amp;#34;: 3460}` if err := json.</description></item><item><title>a possible list to think about when writing a test.</title><link>https://zkanda.io/src/a-possible-list-to-add-when-writing-a-test/</link><pubDate>Sat, 03 Nov 2018 05:29:43 +0000</pubDate><guid>https://zkanda.io/src/a-possible-list-to-add-when-writing-a-test/</guid><description>When writing test, the documentation that the API you are integrating will only list all the good values that they intend to deliver to you or the other way around.
What I observed from working with my colleague Harmen is this:
A negative test A positive test for the happy path An empty input A malformed data I might add more example in the future but for now, I&amp;rsquo;ll try to follow this guideline.</description></item><item><title>installing prometheus in k8s cluster with helm</title><link>https://zkanda.io/src/installing-prometheus-in-k8s-cluster-with-helm/</link><pubDate>Tue, 04 Sep 2018 04:10:21 +0000</pubDate><guid>https://zkanda.io/src/installing-prometheus-in-k8s-cluster-with-helm/</guid><description>Prerequisite: A cluster with RBAC enabled. Have enough capacity in the cluster Install Helm:
kubectl create serviceaccount tiller --namespace kube-system kubectl create clusterrolebinding tiller-rb --clusterrole=cluster-admin --serviceaccount=kube-system:tiller helm init --service-account tiller Get the values.yaml from here Edit some things that you want to tweak, for us, we change the CPU limit to a lower value. Then just install Prometheus:
helm install -f values.yaml --name prometheus stable/prometheus Ideally, this should be installed in another namespace but we will keep it simple for now.</description></item><item><title>our experience in resizing an ebs volume in ec2 instances.</title><link>https://zkanda.io/src/experience-in-resizing-an-ebs-volume-in-ec2-instances/</link><pubDate>Mon, 19 Mar 2018 22:55:57 +0000</pubDate><guid>https://zkanda.io/src/experience-in-resizing-an-ebs-volume-in-ec2-instances/</guid><description>Increasing disk space without downtime.
So in our team, we had to resize an instance disk because it&amp;rsquo;s getting full, this is our experience.
For the first time we search on how to do this, there are many articles written about it and most of them require to stop the system and detaching a volume. But there must be a real doc from aws itself, that is most likely up to date.</description></item><item><title>disabling udp in memcached.</title><link>https://zkanda.io/src/disabling-udp-in-memcached/</link><pubDate>Wed, 07 Mar 2018 18:54:46 +0000</pubDate><guid>https://zkanda.io/src/disabling-udp-in-memcached/</guid><description>One of our server provider which is running in Germany have a bot that scans for an open port, this is to prevent other humans/robot in abusing services that are open on the internet.
For us, they determined that our memcached port is open, we were confused at first how could this happen, we were sure that this is blocked via iptables.
It turns out memcached by default listens to both TCP and UDP, since we don&amp;rsquo;t have yet a firewall for UDP, we opted for something simpler and to disable UDP on memcached(we know we only use TCP).</description></item><item><title>updating a configmap/secrets in kubernetes</title><link>https://zkanda.io/src/updating-a-configmap-secrets-in-kubernetes/</link><pubDate>Tue, 06 Mar 2018 02:45:18 +0000</pubDate><guid>https://zkanda.io/src/updating-a-configmap-secrets-in-kubernetes/</guid><description>At work, we started using Kubernetes for stateless application. We frequently change the values of configmap/secrets especially in staging environments, however, this is still not baked in to k8s.
How to do it?
You have to replace a config to update it.
For example, if you create a configmap like this:
kubectl create configmap site-config --from-file=nginx.conf If you want to update that, you have to add the command above with</description></item><item><title>give more...</title><link>https://zkanda.io/src/give-more/</link><pubDate>Mon, 05 Mar 2018 23:46:53 +0000</pubDate><guid>https://zkanda.io/src/give-more/</guid><description>I&amp;rsquo;m currently reading a book called Give and Take, it made me realize the value of sharing on my blog and in everyday life, I hope to write more about things that I can give value to others as well as a constant reminder of things that have given me lots of &amp;ldquo;Aha&amp;rdquo; moments in my career as a Software Developer.
I really like the quote inside a quote in the book:</description></item><item><title>golang: defer inside a for loop</title><link>https://zkanda.io/src/defer-inside-a-for-loop/</link><pubDate>Wed, 02 Aug 2017 10:17:25 +0000</pubDate><guid>https://zkanda.io/src/defer-inside-a-for-loop/</guid><description>So I have an infinite for loop however I want to use defer to make my intention clearer.
Problem is this defer would never run because my function wouldn&amp;rsquo;t return. This, in turn, would give you memory leak.
As neat as it could be, you can use a closure/anonymous function for this.
for x := 0; x &amp;lt; 2; x++ { func() { defer fmt.Println(x) }() } Real world use case: So what I&amp;rsquo;m trying to do is to have an infinite polling using context on AWS SQS to add a timeout if something is wrong with SQS(this can be anything from network errors to aws being down, it can happen).</description></item><item><title>running elasticsearch on a 2gb digital ocean droplet</title><link>https://zkanda.io/src/running-elasticsearch-on-a-2gb-digital-ocean-droplet/</link><pubDate>Mon, 03 Jul 2017 05:46:21 +0000</pubDate><guid>https://zkanda.io/src/running-elasticsearch-on-a-2gb-digital-ocean-droplet/</guid><description>So I want to run Elasticsearch on a very limited memory machine and I keep running on this error: cannot allocate memory.
Did some research and found this docs on increasing max_map_count:
echo &amp;#34;vm.max_map_count=262144&amp;#34; | sudo tee -a /etc/sysctl.conf sudo sysctl -w vm.max_map_count=262144 But the problem still persists, turns out memory still actually still not enough. I want don&amp;rsquo;t to upgrade the memory since I just want to test things out and I have no plan on running it on production.</description></item><item><title>gophercon sg 2017 reflection</title><link>https://zkanda.io/src/gophercon-sg/</link><pubDate>Sat, 27 May 2017 05:20:35 +0000</pubDate><guid>https://zkanda.io/src/gophercon-sg/</guid><description>This is the first time attending a conference outside my country. It was pretty exciting and scary because I&amp;rsquo;m going alone but nonetheless it was an amazing experience.
I met a couple of interesting people and mostly I think it boosts more my confidence in traveling.
The first day was all about learning Go for Intermediate developers by William Kennedy.
I learned quite a lot, although I&amp;rsquo;ve been using Go in work for some time now, I admit that I still have a long way to go.</description></item><item><title>golang impression</title><link>https://zkanda.io/src/golang-impression/</link><pubDate>Sat, 20 May 2017 21:21:11 +0000</pubDate><guid>https://zkanda.io/src/golang-impression/</guid><description>I&amp;rsquo;ve been very excited to use Go at work and somehow very refreshing, been meaning to learn it for some time but it&amp;rsquo;s easier for me to learn if I actually see it in action.
So far it&amp;rsquo;s been very nice, though of course, some stuff is not so easy. Here&amp;rsquo;s one trivial matter.
First using it with Python feel like I&amp;rsquo;m lost when context switching. Our main application is written in Python/Django and we are slowly trying to build microservices around it.</description></item><item><title>aws rds postgres - error: must be member of role</title><link>https://zkanda.io/src/aws-rds-postgres-error-must-be-member-of-role/</link><pubDate>Fri, 31 Mar 2017 02:16:40 +0000</pubDate><guid>https://zkanda.io/src/aws-rds-postgres-error-must-be-member-of-role/</guid><description>I recently had to add a user for postgres in AWS RDS but it&amp;rsquo;s giving me this error:
ERROR: must be member of role &amp;#34;test&amp;#34; So here&amp;rsquo;s what I did:
First, create a user with CREATEDB capability:
CREATE USER testuser WITH CREATEDB PASSWORD &amp;#39;testpassword&amp;#39;; \q Connect again with this new user and create the database:
CREATE DATABASE testdb OWNER testuser; That&amp;rsquo;s it.</description></item><item><title>upgraded windows on my dual boot laptop causes problems on bootloader.</title><link>https://zkanda.io/src/recently-upgraded-windows-on-my-dual-boot-laptop-causes-problems-on-my-linux/</link><pubDate>Mon, 30 Jan 2017 05:35:54 +0000</pubDate><guid>https://zkanda.io/src/recently-upgraded-windows-on-my-dual-boot-laptop-causes-problems-on-my-linux/</guid><description>So I upgraded my Windows partition to latest insider preview and it kind of messed up my laptop.
Here&amp;rsquo;s the error message:
EFI stub: ERROR: failed to read file. Trying to load files to higher address EFI stub: ERROR: failed to read file. Here&amp;rsquo;s the step I did to resolved it.
Boot in an ArchLinux liveusb. Mount your root and boot partition. Chroot into it. And reinstall the bootloader. mkinitcpio -p linux bootctl install Reboot and it should be good now.</description></item><item><title>installing python packages directly from github using pip</title><link>https://zkanda.io/src/installing-python-packages-directly-from-github-using-pip/</link><pubDate>Mon, 05 Dec 2016 04:17:08 +0000</pubDate><guid>https://zkanda.io/src/installing-python-packages-directly-from-github-using-pip/</guid><description>Recently, I needed to install a package directly from Github which I&amp;rsquo;m trying to contribute into.
For example, you have this url: https://github.com/zkanda/lambda-uploader
What you can do is just add git+ as a prefix in the URL.
Here&amp;rsquo;s how you can do it!
pip install git+https://github.com/zkanda/lambda-uploader But I want to install a code in another branch, so how do we do it? We just add @branch_name at the end of the url.</description></item><item><title>setting a different vimrc and runtime for vim</title><link>https://zkanda.io/src/setting-a-different-vimrc-and-runtime-for-vim/</link><pubDate>Tue, 29 Nov 2016 01:25:20 +0000</pubDate><guid>https://zkanda.io/src/setting-a-different-vimrc-and-runtime-for-vim/</guid><description>Today, I decided to update my script and search for a way to easily change how I can load vimrc and .vim/ directory. And vim provides a very convenient way to do it using the environment variable.
VIMINIT - for switching vimrc. VIMRUNTIME - for the .vim directory. You can use it like this:
VIMINIT=/path/to/custom/vimrc vim
and
VIMRUNTIME=/path/to/.vim vim
You can combine them both as well.
Click here for the relevant docs</description></item><item><title>setting vi mode on ipython</title><link>https://zkanda.io/src/setting-vi-mode-on-ipython-5/</link><pubDate>Wed, 13 Jul 2016 21:59:28 +0000</pubDate><guid>https://zkanda.io/src/setting-vi-mode-on-ipython-5/</guid><description>When I upgraded my IPython version to 5 and one thing that I&amp;rsquo;m missing is vi mode binding. When I read the changelog, they now replace readline with prompt_toolkit a pure python interactive command line prompt. This is very nice because it supports all platform that Python supports.
So to bring back your vi binding, you need to do some few changes.
ipython profile create This will create a default profile where you can change your IPython configuration.</description></item><item><title>compiling a beta kernel in archlinux</title><link>https://zkanda.io/src/compiling-the-latest-beta-kernel-in-archlinux/</link><pubDate>Fri, 17 Jun 2016 01:19:50 +0000</pubDate><guid>https://zkanda.io/src/compiling-the-latest-beta-kernel-in-archlinux/</guid><description>You have a new laptop, you install ArchLinux on it and seems like some things are missing. This is currently the case for me:
one missing feature was &amp;ldquo;suspend&amp;rdquo;, my laptop just seems to boot as if I turned off everything, my application is not persisted another is a fix for my headphone noise issue, just to name a few&amp;hellip; One of the few things you can try is to install the latest beta kernel.</description></item><item><title>the start of our journey....</title><link>https://zkanda.io/src/the-start-of-our-journey/</link><pubDate>Fri, 27 May 2016 10:43:38 +0000</pubDate><guid>https://zkanda.io/src/the-start-of-our-journey/</guid><description>Bonjour ! Everything is a mysterious journey, each with its unique flavor and texture. Here will be the diary, the voice on in which has the influence of something we yet fully understand.
The Realm of Space!</description></item></channel></rss>